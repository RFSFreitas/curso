<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Curso de Jurimetria</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="Curso de Jurimetria dado ao TSE nos dias 08, 09 e 10 de agosto de 2016.">
  <meta name="generator" content="bookdown 0.1.3 and GitBook 2.6.7">

  <meta property="og:title" content="Curso de Jurimetria" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Curso de Jurimetria dado ao TSE nos dias 08, 09 e 10 de agosto de 2016." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Curso de Jurimetria" />
  
  <meta name="twitter:description" content="Curso de Jurimetria dado ao TSE nos dias 08, 09 e 10 de agosto de 2016." />
  

<meta name="author" content="Associação Brasileira de Jurimetria">

<meta name="date" content="2016-08-07">

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="pacotes-dplyr-e-tidyr.html">
<link rel="next" href="web-scraping.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Curso de Jurimetria</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introdução</a><ul>
<li class="chapter" data-level="1.1" data-path="definicao-de-jurimetria.html"><a href="definicao-de-jurimetria.html"><i class="fa fa-check"></i><b>1.1</b> Definição de Jurimetria</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="ferramental-de-trabalho-da-abj.html"><a href="ferramental-de-trabalho-da-abj.html"><i class="fa fa-check"></i><b>2</b> Ferramental de trabalho da ABJ</a><ul>
<li class="chapter" data-level="2.1" data-path="exemplo-trabalhado.html"><a href="exemplo-trabalhado.html"><i class="fa fa-check"></i><b>2.1</b> Exemplo trabalhado</a><ul>
<li class="chapter" data-level="2.1.1" data-path="exemplo-trabalhado.html"><a href="exemplo-trabalhado.html#camaras-de-gas"><i class="fa fa-check"></i><b>2.1.1</b> Câmaras de gás</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="data-tidying.html"><a href="data-tidying.html"><i class="fa fa-check"></i><b>2.2</b> Data tidying</a></li>
<li class="chapter" data-level="2.3" data-path="pipe.html"><a href="pipe.html"><i class="fa fa-check"></i><b>2.3</b> Pipe</a></li>
<li class="chapter" data-level="2.4" data-path="pacote-lubridate-para-trabalhar-com-datas.html"><a href="pacote-lubridate-para-trabalhar-com-datas.html"><i class="fa fa-check"></i><b>2.4</b> Pacote <code>lubridate</code> para trabalhar com datas</a></li>
<li class="chapter" data-level="2.5" data-path="pacote-stringr-para-trabalhar-com-textos.html"><a href="pacote-stringr-para-trabalhar-com-textos.html"><i class="fa fa-check"></i><b>2.5</b> Pacote <code>stringr</code> para trabalhar com textos</a><ul>
<li class="chapter" data-level="2.5.1" data-path="pacote-stringr-para-trabalhar-com-textos.html"><a href="pacote-stringr-para-trabalhar-com-textos.html#expressoes-regulares"><i class="fa fa-check"></i><b>2.5.1</b> Expressões regulares</a></li>
<li class="chapter" data-level="2.5.2" data-path="pacote-stringr-para-trabalhar-com-textos.html"><a href="pacote-stringr-para-trabalhar-com-textos.html#funcoes-do-stringr"><i class="fa fa-check"></i><b>2.5.2</b> Funções do <code>stringr</code></a></li>
<li class="chapter" data-level="2.5.3" data-path="pacote-stringr-para-trabalhar-com-textos.html"><a href="pacote-stringr-para-trabalhar-com-textos.html#exemplo-decisoes-das-camaras"><i class="fa fa-check"></i><b>2.5.3</b> Exemplo: decisões das câmaras</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html"><i class="fa fa-check"></i><b>2.6</b> Pacotes <code>dplyr</code> e <code>tidyr</code></a><ul>
<li class="chapter" data-level="2.6.1" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html#trabalhando-com-tibbles"><i class="fa fa-check"></i><b>2.6.1</b> Trabalhando com <code>tibble</code>s</a></li>
<li class="chapter" data-level="2.6.2" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html#as-cinco-funcoes-principais-do-dplyr"><i class="fa fa-check"></i><b>2.6.2</b> As cinco funções principais do <code>dplyr</code></a></li>
<li class="chapter" data-level="2.6.3" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html#caracteristicas"><i class="fa fa-check"></i><b>2.6.3</b> Características</a></li>
<li class="chapter" data-level="2.6.4" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html#vantagens"><i class="fa fa-check"></i><b>2.6.4</b> Vantagens</a></li>
<li class="chapter" data-level="2.6.5" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html#select"><i class="fa fa-check"></i><b>2.6.5</b> <code>select</code></a></li>
<li class="chapter" data-level="2.6.6" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html#filter"><i class="fa fa-check"></i><b>2.6.6</b> <code>filter</code></a></li>
<li class="chapter" data-level="2.6.7" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html#mutate"><i class="fa fa-check"></i><b>2.6.7</b> <code>mutate</code></a></li>
<li class="chapter" data-level="2.6.8" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html#arrange"><i class="fa fa-check"></i><b>2.6.8</b> <code>arrange</code></a></li>
<li class="chapter" data-level="2.6.9" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html#summarise"><i class="fa fa-check"></i><b>2.6.9</b> <code>summarise</code></a></li>
<li class="chapter" data-level="2.6.10" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html#gather"><i class="fa fa-check"></i><b>2.6.10</b> <code>gather</code></a></li>
<li class="chapter" data-level="2.6.11" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html#spread"><i class="fa fa-check"></i><b>2.6.11</b> <code>spread</code></a></li>
<li class="chapter" data-level="2.6.12" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html#funcoes-auxiliares"><i class="fa fa-check"></i><b>2.6.12</b> Funções auxiliares</a></li>
<li class="chapter" data-level="2.6.13" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html#um-pouco-mais-de-transformacao-de-dados"><i class="fa fa-check"></i><b>2.6.13</b> Um pouco mais de transformação de dados</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="pacotes-httr-xml2-e-rvest.html"><a href="pacotes-httr-xml2-e-rvest.html"><i class="fa fa-check"></i><b>2.7</b> Pacotes <code>httr</code>, <code>xml2</code> e <code>rvest</code></a><ul>
<li class="chapter" data-level="2.7.1" data-path="pacotes-httr-xml2-e-rvest.html"><a href="pacotes-httr-xml2-e-rvest.html#sessoes-e-cookies"><i class="fa fa-check"></i><b>2.7.1</b> Sessões e cookies</a></li>
<li class="chapter" data-level="2.7.2" data-path="pacotes-httr-xml2-e-rvest.html"><a href="pacotes-httr-xml2-e-rvest.html#get-e-post"><i class="fa fa-check"></i><b>2.7.2</b> <code>GET</code> e <code>POST</code></a></li>
<li class="chapter" data-level="2.7.3" data-path="pacotes-httr-xml2-e-rvest.html"><a href="pacotes-httr-xml2-e-rvest.html#outras-funcoes-do-httr"><i class="fa fa-check"></i><b>2.7.3</b> Outras funções do <code>httr</code></a></li>
<li class="chapter" data-level="2.7.4" data-path="pacotes-httr-xml2-e-rvest.html"><a href="pacotes-httr-xml2-e-rvest.html#principais-funcoes-do-rvest"><i class="fa fa-check"></i><b>2.7.4</b> Principais funções do <code>rvest</code></a></li>
<li class="chapter" data-level="2.7.5" data-path="pacotes-httr-xml2-e-rvest.html"><a href="pacotes-httr-xml2-e-rvest.html#css-path-e-xpath"><i class="fa fa-check"></i><b>2.7.5</b> CSS path e XPath</a></li>
<li class="chapter" data-level="2.7.6" data-path="pacotes-httr-xml2-e-rvest.html"><a href="pacotes-httr-xml2-e-rvest.html#apis-com-httr"><i class="fa fa-check"></i><b>2.7.6</b> APIs com <code>httr</code></a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="web-scraping.html"><a href="web-scraping.html"><i class="fa fa-check"></i><b>2.8</b> Web scraping</a><ul>
<li class="chapter" data-level="2.8.1" data-path="web-scraping.html"><a href="web-scraping.html#informacoes-iniciais"><i class="fa fa-check"></i><b>2.8.1</b> Informações iniciais</a></li>
<li class="chapter" data-level="2.8.2" data-path="web-scraping.html"><a href="web-scraping.html#diferenca-entre-buscar-baixar-e-processar."><i class="fa fa-check"></i><b>2.8.2</b> Diferença entre buscar, baixar e processar.</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="buscar-documentos.html"><a href="buscar-documentos.html"><i class="fa fa-check"></i><b>2.9</b> Buscar documentos</a></li>
<li class="chapter" data-level="2.10" data-path="coletar-processos.html"><a href="coletar-processos.html"><i class="fa fa-check"></i><b>2.10</b> Coletar processos</a></li>
<li class="chapter" data-level="2.11" data-path="a-importancia-da-criacao-de-apis-publicos-nos-tribunais.html"><a href="a-importancia-da-criacao-de-apis-publicos-nos-tribunais.html"><i class="fa fa-check"></i><b>2.11</b> A importância da criação de APIs públicos nos tribunais</a><ul>
<li class="chapter" data-level="2.11.1" data-path="a-importancia-da-criacao-de-apis-publicos-nos-tribunais.html"><a href="a-importancia-da-criacao-de-apis-publicos-nos-tribunais.html#busca-e-extracao"><i class="fa fa-check"></i><b>2.11.1</b> Busca e extração</a></li>
<li class="chapter" data-level="2.11.2" data-path="a-importancia-da-criacao-de-apis-publicos-nos-tribunais.html"><a href="a-importancia-da-criacao-de-apis-publicos-nos-tribunais.html#como-o-profissional-do-direito-acessa-seus-dados"><i class="fa fa-check"></i><b>2.11.2</b> Como o profissional do Direito acessa seus dados</a></li>
<li class="chapter" data-level="2.11.3" data-path="a-importancia-da-criacao-de-apis-publicos-nos-tribunais.html"><a href="a-importancia-da-criacao-de-apis-publicos-nos-tribunais.html#como-o-estatistico-acessa-seus-dados"><i class="fa fa-check"></i><b>2.11.3</b> Como o estatístico acessa seus dados</a></li>
<li class="chapter" data-level="2.11.4" data-path="a-importancia-da-criacao-de-apis-publicos-nos-tribunais.html"><a href="a-importancia-da-criacao-de-apis-publicos-nos-tribunais.html#como-o-jurimetrista-acessa-seus-dados"><i class="fa fa-check"></i><b>2.11.4</b> Como o jurimetrista acessa seus dados</a></li>
<li class="chapter" data-level="2.11.5" data-path="a-importancia-da-criacao-de-apis-publicos-nos-tribunais.html"><a href="a-importancia-da-criacao-de-apis-publicos-nos-tribunais.html#como-melhorar"><i class="fa fa-check"></i><b>2.11.5</b> Como melhorar?</a></li>
<li class="chapter" data-level="2.11.6" data-path="a-importancia-da-criacao-de-apis-publicos-nos-tribunais.html"><a href="a-importancia-da-criacao-de-apis-publicos-nos-tribunais.html#solucao-a-longo-prazo"><i class="fa fa-check"></i><b>2.11.6</b> Solução a longo prazo:</a></li>
<li class="chapter" data-level="2.11.7" data-path="a-importancia-da-criacao-de-apis-publicos-nos-tribunais.html"><a href="a-importancia-da-criacao-de-apis-publicos-nos-tribunais.html#vantagens-de-permitir-o-acesso-aos-dados"><i class="fa fa-check"></i><b>2.11.7</b> Vantagens de permitir o acesso aos dados</a></li>
<li class="chapter" data-level="2.11.8" data-path="a-importancia-da-criacao-de-apis-publicos-nos-tribunais.html"><a href="a-importancia-da-criacao-de-apis-publicos-nos-tribunais.html#expectativas"><i class="fa fa-check"></i><b>2.11.8</b> Expectativas</a></li>
</ul></li>
<li class="chapter" data-level="2.12" data-path="visualizacao-de-dados-com-ggplot2.html"><a href="visualizacao-de-dados-com-ggplot2.html"><i class="fa fa-check"></i><b>2.12</b> Visualização de dados com <code>ggplot2</code></a><ul>
<li class="chapter" data-level="2.12.1" data-path="visualizacao-de-dados-com-ggplot2.html"><a href="visualizacao-de-dados-com-ggplot2.html#construindo-graficos"><i class="fa fa-check"></i><b>2.12.1</b> Construindo gráficos</a></li>
<li class="chapter" data-level="2.12.2" data-path="visualizacao-de-dados-com-ggplot2.html"><a href="visualizacao-de-dados-com-ggplot2.html#as-camadas-de-um-grafico"><i class="fa fa-check"></i><b>2.12.2</b> As camadas de um gráfico</a></li>
</ul></li>
<li class="chapter" data-level="2.13" data-path="exemplo-visualizacao.html"><a href="exemplo-visualizacao.html"><i class="fa fa-check"></i><b>2.13</b> Exemplo visualização</a></li>
<li class="chapter" data-level="2.14" data-path="ferramentas-de-visualizacao-com-shiny.html"><a href="ferramentas-de-visualizacao-com-shiny.html"><i class="fa fa-check"></i><b>2.14</b> Ferramentas de visualização com <code>shiny</code></a><ul>
<li class="chapter" data-level="2.14.1" data-path="ferramentas-de-visualizacao-com-shiny.html"><a href="ferramentas-de-visualizacao-com-shiny.html#comecando-com-um-exemplo"><i class="fa fa-check"></i><b>2.14.1</b> Começando com um exemplo</a></li>
<li class="chapter" data-level="2.14.2" data-path="ferramentas-de-visualizacao-com-shiny.html"><a href="ferramentas-de-visualizacao-com-shiny.html#criando-outputs"><i class="fa fa-check"></i><b>2.14.2</b> Criando outputs</a></li>
</ul></li>
<li class="chapter" data-level="2.15" data-path="fazendo-mais-com-o-shiny.html"><a href="fazendo-mais-com-o-shiny.html"><i class="fa fa-check"></i><b>2.15</b> Fazendo mais com o shiny</a><ul>
<li class="chapter" data-level="2.15.1" data-path="fazendo-mais-com-o-shiny.html"><a href="fazendo-mais-com-o-shiny.html#shiny-server-pro"><i class="fa fa-check"></i><b>2.15.1</b> Shiny Server Pro</a></li>
<li class="chapter" data-level="2.15.2" data-path="fazendo-mais-com-o-shiny.html"><a href="fazendo-mais-com-o-shiny.html#shinyapps.io"><i class="fa fa-check"></i><b>2.15.2</b> shinyapps.io</a></li>
<li class="chapter" data-level="2.15.3" data-path="fazendo-mais-com-o-shiny.html"><a href="fazendo-mais-com-o-shiny.html#ainda-mais"><i class="fa fa-check"></i><b>2.15.3</b> Ainda mais!</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="simulacao.html"><a href="simulacao.html"><i class="fa fa-check"></i><b>3</b> Simulação</a><ul>
<li class="chapter" data-level="3.1" data-path="primeiros-passos.html"><a href="primeiros-passos.html"><i class="fa fa-check"></i><b>3.1</b> Primeiros passos</a></li>
<li class="chapter" data-level="3.2" data-path="estruturacao.html"><a href="estruturacao.html"><i class="fa fa-check"></i><b>3.2</b> Estruturação</a></li>
<li class="chapter" data-level="3.3" data-path="dados.html"><a href="dados.html"><i class="fa fa-check"></i><b>3.3</b> Dados</a></li>
<li class="chapter" data-level="3.4" data-path="implementacao.html"><a href="implementacao.html"><i class="fa fa-check"></i><b>3.4</b> Implementação</a></li>
<li class="chapter" data-level="3.5" data-path="analise-dos-resultados.html"><a href="analise-dos-resultados.html"><i class="fa fa-check"></i><b>3.5</b> Análise dos resultados</a></li>
<li class="chapter" data-level="3.6" data-path="exemplo-cadastro-nacional-de-adocao.html"><a href="exemplo-cadastro-nacional-de-adocao.html"><i class="fa fa-check"></i><b>3.6</b> Exemplo - Cadastro Nacional de Adoção</a><ul>
<li class="chapter" data-level="3.6.1" data-path="exemplo-cadastro-nacional-de-adocao.html"><a href="exemplo-cadastro-nacional-de-adocao.html#primeiros-passos-1"><i class="fa fa-check"></i><b>3.6.1</b> Primeiros passos</a></li>
<li class="chapter" data-level="3.6.2" data-path="exemplo-cadastro-nacional-de-adocao.html"><a href="exemplo-cadastro-nacional-de-adocao.html#estruturacao-1"><i class="fa fa-check"></i><b>3.6.2</b> Estruturação</a></li>
<li class="chapter" data-level="3.6.3" data-path="exemplo-cadastro-nacional-de-adocao.html"><a href="exemplo-cadastro-nacional-de-adocao.html#dados-1"><i class="fa fa-check"></i><b>3.6.3</b> Dados</a></li>
<li class="chapter" data-level="3.6.4" data-path="exemplo-cadastro-nacional-de-adocao.html"><a href="exemplo-cadastro-nacional-de-adocao.html#implementacao-1"><i class="fa fa-check"></i><b>3.6.4</b> Implementação</a></li>
<li class="chapter" data-level="3.6.5" data-path="exemplo-cadastro-nacional-de-adocao.html"><a href="exemplo-cadastro-nacional-de-adocao.html#analise-dos-resultados-1"><i class="fa fa-check"></i><b>3.6.5</b> Análise dos resultados</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="referencias.html"><a href="referencias.html"><i class="fa fa-check"></i>Referências</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Curso de Jurimetria</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="pacotes-httr-xml2-e-rvest" class="section level2">
<h2><span class="header-section-number">2.7</span> Pacotes <code>httr</code>, <code>xml2</code> e <code>rvest</code></h2>
<p>Esses são os três pacotes mais modernos do R utilizados para fazer web scraping. O pacote <code>xml2</code> tem a finalidade de estruturar arquivos HTML ou XML de forma eficiente, tornando possível a obtenção de <em>tags</em> e seus atributos dentro de um arquivo. Já o pacote <code>httr</code> é responsável por realizar requisições web para obtenção das páginas de interesse, buscando reduzir ao máximo a complexidade da programação. O pacote <code>rvest</code> é escrito <strong>sobre</strong> os dois anteriores e por isso eleva ainda mais o nível de especialização para raspagem de dados.</p>
<p>As características dos pacotes implicam na seguinte regra de bolso. Para trabalhar com páginas simples, basta carregar o <code>rvest</code> e utilizar suas funcionalidades. Caso o acesso à página exija ações mais complexas e/ou artifícios de ferramentas web, será necessário utilizar o <code>httr</code>. O <code>xml2</code> só será usado explicitamente nos casos raros em que a página está em XML, que pode ser visto como uma generalização do HTML.</p>
<p>Esses pacotes não são suficientes para acessar todo tipo de conteúdo da web. Um exemplo claro disso são páginas em que o conteúdo é produzido por <code>javascript</code>, o que acontece em muitos sites modernos. Para trabalhar com esses sites, é necessário realmente “simular” um navegador que acessa a página web. Uma das melhores ferramentas para isso é o <code>selenium</code>. Não discutiremos <code>selenium</code> nesse curso, mas caso queira se aprofundar, acesse <a href="http://www.seleniumhq.org/">aqui</a>.</p>
<div id="sessoes-e-cookies" class="section level3">
<h3><span class="header-section-number">2.7.1</span> Sessões e cookies</h3>
<p>No momento que acessamos uma página web, nosso navegador baixa alguns arquivos que “identificam” nosso acesso à página. Esses arquivos são chamados cookies e são usados pelos sites para realizar diversas atividades, como carregar uma página pré-definida pelo usuário caso este acesse o site pela segunda vez.</p>
<p>O <code>httr</code> e por consequência o <code>rvest</code> já guardam esses cookies de forma automática, de forma que o usuário não precise se preocupar com isso. Em casos raros, para construir o web scraper é necessário modificar esses cookies. Nesses casos, estude a função <code>cookies()</code> do <code>httr</code>.</p>
</div>
<div id="get-e-post" class="section level3">
<h3><span class="header-section-number">2.7.2</span> <code>GET</code> e <code>POST</code></h3>
<p>Uma requisição GET envia uma <code>url</code> ao servidor, possivelmente com alguns parâmetros nessa <code>url</code> (que ficam no final da <code>url</code> depois do <code>?</code>). O servidor, por sua vez, recebe essa <code>url</code>, processa os parâmetros e retorna uma página HTML para o navegador<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a>.</p>
<p>A requisição POST, no entanto, envia uma <code>url</code> não modificada para o servidor, mas envia também uma lista de dados preenchidos pelo usuário, que podem ser números, textos ou até imagens. Na maioria dos casos, ao submeter um formulário de um site, fazemos uma requisição POST.</p>
<p>O <code>httr</code> possui os métodos <code>GET</code> e <code>POST</code> implementados e são muito similares. A lista de parâmetros enviados pelo usuário pode ser armazenado numa <code>list</code> nomeada, e adicionado ao <code>GET</code> pelo parâmetro <code>query</code> ou no <code>POST</code> pelo parâmetro <code>body</code>. Veremos exemplos disso mais adiante.</p>
</div>
<div id="outras-funcoes-do-httr" class="section level3">
<h3><span class="header-section-number">2.7.3</span> Outras funções do <code>httr</code></h3>
<p>Outras funções úteis:</p>
<ul>
<li><code>write_disk()</code> para escrever uma requisição direto em disco, além de guardar na memória RAM.</li>
<li><code>config()</code> para adicionar configurações adicionais. Por exemplo, quando acessar uma página <code>https</code> com certificados inadequados numa requisição GET, rode <code>GET('https://www...', config(ssl_verifypeer=F))</code>.</li>
<li><code>oauth_app()</code> para trabalhar com APIs. Não discutiremos conexão com APIs nesse curso, mas é um importante conceito a ser estudado.</li>
</ul>
</div>
<div id="principais-funcoes-do-rvest" class="section level3">
<h3><span class="header-section-number">2.7.4</span> Principais funções do <code>rvest</code></h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(rvest)</code></pre></div>
<p><strong>Para acessar páginas da web:</strong></p>
<ul>
<li><code>html_session()</code> abre uma sessão do usuário (baixa página, carrega cookies etc).</li>
<li><code>follow_link()</code>, <code>jump_to()</code> acessa uma página web a partir de um link (tag <code>&lt;a&gt;</code>) ou url.</li>
<li><code>html_form()</code> carrega todos os formulários contidos numa página.</li>
<li><code>set_value()</code> atribui valores a parâmetros do formulário.</li>
<li><code>submit_form()</code> submete um formulário obtido em <code>html_form</code>.</li>
</ul>
<p><strong>Para trabalhar com arquivos HTML:</strong></p>
<ul>
<li><code>read_html()</code> lê o arquivo HTML de forma estruturada e facilita impressão.</li>
<li><code>html_nodes()</code> cria uma lista com os nós identificados por uma busca em CSS path ou XPath. <code>html_node()</code> é um caso especial que assume que só será encontrado um resultado.</li>
<li><code>html_text()</code> extrai todo o conteúdo de um objeto e retorna um texto.</li>
<li><code>html_table()</code> extrai o conteúdo de uma <code>&lt;table&gt;</code> e transforma em um <code>data_frame</code>.</li>
<li><code>html_attr()</code> extrai um atributo de uma tag, por exemplo <code>href</code> da tag <code>&lt;a&gt;</code>.</li>
</ul>
</div>
<div id="css-path-e-xpath" class="section level3">
<h3><span class="header-section-number">2.7.5</span> CSS path e XPath</h3>
<p>O CSS path e o XPath são formas distintas de buscar tags dentro de um documento HTML. O CSS path é mais simples de implementar e tem uma sintaxe menos verborrágica, mas o XPath é mais poderoso. A regra de bolso é tentar fazer a seleção primeiro em CSS e, caso não seja possível, implementar em XPath.</p>
<p>Esses paths serão mostrados <em>en passant</em> durante o curso, mas não serão abordados em detalhe. Caso queira se aprofundar no assunto, comece pela ajuda da função <code>?html_nodes</code>.</p>
</div>
<div id="apis-com-httr" class="section level3">
<h3><span class="header-section-number">2.7.6</span> APIs com <code>httr</code></h3>
<p>O <code>httr</code> foi criado pensando-se nas modernas APIs que vêm sendo desenvolvidas nos últimos anos. O <code>httr</code> já tem métodos apropriados para trabalhar com Facebook, Twitter e Google, entre outros.</p>
<p>Para um guia completo de como utilizar APIs no R, acesse <a href="https://cran.r-project.org/web/packages/httr/vignettes/api-packages.html">esse tutorial</a>. Um exemplo de pacote que utiliza API usando esse tutorial melhores práticas pode ser <a href="https://github.com/jtrecenti/sptrans">acessado aqui</a>.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="2">
<li id="fn2"><p>para entender sobre server side e user side, acesse <a href="http://programmers.stackexchange.com/a/171210" title="diferencas">server side e user side</a>.<a href="pacotes-httr-xml2-e-rvest.html#fnref2">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="pacotes-dplyr-e-tidyr.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="web-scraping.html" class="navigation navigation-next " aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/abjur/curso/edit/master/02-ferramental.Rmd",
"text": "Editar"
},
"download": ["curso-jurimetria.pdf"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
